#
# ~/.initrc
# Configuration file for dotfiles
# https://github.com/cherrynoize/dotfiles
#

# Current theme loading screen
loading_screen="$HOME/.wallpaper-themes/current/loading_frames"
if [ ! -e "$loading_screen" ]; then
  # Fallback to default
  loading_screen="$HOME/.wallpaper-themes/.default/loading_frames"
fi
if [ -e "$loading_screen" ]; then
  # Set loading screen if it is found
  livewall set "$loading_screen" &
fi

# Automatically detect network interfaces
# You can manually override these with your preferred value
export WLAN="$(ls /sys/class/net | grep -m 1 wl)"
export ETH="$(ls /sys/class/net | grep -m 1 et)"

# Location preferences to manually override geolocation
# Here it's set for autocorrection and it only applies within a
# given region: snaps to 'Cerulean City' while in 'Kanto'.
#(
#while [ "$(netspeed)" != "0 B" ]; do
#  if [ "$(get-ip-info region)" = "Kanto" ]; then
#    export CITY="Cerulean City"
#    export COUNTRY="Pok√©mon Green"
#  fi
#  export CITY="$(get-ip-info city)"
#  export COUNTRY="$(get-ip-info country)"
#  sleep 30
#done
#)&

switch-bar launch &

(
sleep 1
#. ~/.config/wpg/wp_init.sh & # Restore wallpaper and wpgtk theme
change-wallpaper & # Set random new wallpaper
livewall stop
)&
